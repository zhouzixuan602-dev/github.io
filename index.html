<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Needs Board Â· Research Consortium Platform</title>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  font-family:Inter,system-ui;
  background:#0b0d12;
  color:#e9ecf2;
}
main{max-width:900px;margin:40px auto;padding:0 20px;}
h1{margin-bottom:8px;}
.card{
  border:1px solid rgba(255,255,255,.12);
  border-radius:14px;
  padding:16px;
  margin-bottom:12px;
  background:rgba(255,255,255,.03);
}
input,textarea,button{
  width:100%;
  margin:6px 0;
  padding:10px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.2);
  background:#111;
  color:#fff;
}
button{
  background:#7c3aed;
  border:none;
  font-weight:700;
  cursor:pointer;
}
</style>
</head>

<body>
<main>
<h1>Needs Board</h1>

<section class="card">
<h3>Post a Need</h3>
<input id="title" placeholder="Title"/>
<textarea id="context" placeholder="Context"></textarea>
<button id="publish">Publish</button>
</section>

<section>
<h3>Board</h3>
<div id="list"></div>
</section>
</main>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyAT_2rdOsgITzuGvA_jfVsIXsSAY_mCihU",
  authDomain: "research-consortium-136f7.firebaseapp.com",
  projectId: "research-consortium-136f7",
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();
const colRef = db.collection("needs");

const list = document.getElementById("list");

colRef.orderBy("createdAt","desc").onSnapshot(snap=>{
  list.innerHTML="";
  snap.forEach(doc=>{
    const d = doc.data();
    const div = document.createElement("div");
    div.className="card";
    div.innerHTML = `<b>${d.title}</b><p>${d.context}</p>`;
    list.appendChild(div);
  });
});

document.getElementById("publish").onclick = async ()=>{
  const title = document.getElementById("title").value.trim();
  const context = document.getElementById("context").value.trim();
  if(!title || !context) return alert("Fill all fields");
  await colRef.add({
    title, context,
    createdAt: new Date().toISOString()
  });
};
</script>
</body>
</html>
